{{define "Title"}}{{.title}}主题{{end}}
{{define "ContentWidth"}}9{{end}}
{{define "Breadcrumb"}}
<ul class="breadcrumb">
  <li><a href="/"><i class="glyphicon glyphicon-home"></i> 首页</a></li>
  <li class="active">{{.title}}主题</li>
</ul>
{{end}}
{{define "Content"}}
<link rel="stylesheet" href="http://gopher.qiniudn.com/static/editor.md-1.4.2/css/editormd.min.css">
<div class="content">
  <form action="" method="post" id="topic-form" role="form">
	<fieldset>
      {{$node := .form.Field "node"}}
      <div class="form-group">
        {{$node.RenderLabel}}
        {{$node.RenderInput `class="form-control"`}}
      </div>
      {{$title := .form.Field "title"}}
      <div class="form-group">
        {{$title.RenderLabel}}
        {{$title.RenderInput `class="form-control"` `rows="4"` `placeholder="请输入主题标题，注意文字长度，如果标题能够表达完整内容，正文可以为空"`}}
      </div>
	  <div class="form-group">
		<div id="editormd">
          <textarea style="display:none;">{{.form.Value "editormd-markdown-doc"}}</textarea>
		</div>
	  </div>

	  <input type="submit" class="btn btn-primary" value="{{.title}}">
	</fieldset>
  </form>
</div>
<script type="text/javascript" src="http://gopher.qiniudn.com/static/editor.md-1.4.2/editormd.min.js?1"></script>
  <script type="text/javascript">
	var editor;
    $(function() {
      editor = editormd("editormd", {
	    height: 400,
        path: "http://gopher.qiniudn.com/static/editor.md-1.4.2/lib/",
	    placeholder: "Mardkown，提交前请查看预览格式是否正确",
        toolbarIcons: function() {
          return ["undo", "redo", "|", "bold", "italic", "quote", "|", "h1", "h2", "h3", "h4", "h5", "h6", "|", "list-ul", "list-ol", "hr", "|", "link", "reference-link", "image", "code", "preformatted-text", "code-block", "|", "goto-line", "watch", "preview", "fullscreen", "|", "help", "info"];
        },
	    saveHTMLToTextarea: true,
	    imageUpload: true,
      });
    });
  </script>
{{end}}

{{define "LeftSide"}}{{end}}
{{define "RightSide"}}
<div class="col-md-3 sidebar">
  <div class="panel panel-default">
	<div class="panel-heading">
      <h3 class="panel-title">请在创建主题时考虑：</h3>
	</div>
	<div class="panel-body">
      <ul>
		<li>请选择一个合适的节点。</li>
		<li><strong>提问型主题：</strong>请用准确的语言描述你遇到的问题，如果问题足够在标题中写完，那么正文是不用填写的，在正文中写 RT 是完全没有必要的。</li>
		<li><strong>分享型主题：</strong>欢迎你在这里分享你在网上看到的有关Go语言的信息或你自己的经验/心得/代码/作品，请不要分享社会新闻。</li>
		<li>主题内容使用Markdown格式，请参考下面的Markdown格式说明</li>
      </ul>
	</div>
  </div>
</div>
{{end}}
